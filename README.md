# Сервис прогноза погоды для маршрута

## Обзор
Данный проект представляет собой веб-приложение на базе Flask, которое предоставляет прогноз погоды для заданных точек или маршрутов. Приложение получает актуальные данные о погоде с помощью API AccuWeather и оценивает погодные условия, чтобы определить, благоприятные они или неблагоприятные.

## Функционал
- Получение текущих данных о погоде для одной точки.
- Оценка погодных условий на основе температуры, скорости ветра, осадков.
- Сравнение погодных условий для начальной и конечной точек маршрута.
- Отображение результатов в удобном формате через веб-интерфейс.

## Требования
- Python 3.8+
- Flask
- Requests
- Geopy
- python-dotenv
- Ключ API AccuWeather

## Установка
1. Клонируйте репозиторий:
   ```bash
   git clone <repository_url>
   cd <repository_folder>
   ```

2. Создайте и активируйте виртуальное окружение:
   ```bash
   python -m venv venv
   source venv/bin/activate  # В Windows: venv\Scripts\activate
   ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Создайте файл `.env` в корневой директории и добавьте в него ваш ключ API AccuWeather:
   ```env
   ACC_WEATHER_API_KEY=your_api_key_here
   ```

## Использование
1. Запустите приложение:
   ```bash
   python app.py
   ```

2. Откройте веб-браузер и перейдите по адресу `http://127.0.0.1:5000/`.

3. Доступный функционал:
   - Ввод широты и долготы для получения текущих погодных условий.
   - Ввод начальной и конечной точек маршрута для оценки погодных условий.

## Критерии оценки погодных условий
- **Неблагоприятные погодные условия:**
  - Температура ниже -5°C или выше 35°C.
  - Скорость ветра выше 50 км/ч.
  - Вероятность осадков выше 70%.

## API Эндпоинты
### `/`
Отображает главный веб-интерфейс с возможностью:
- Проверить погодные условия для одной точки.
- Оценить погодные условия для маршрута.

### `/weather`
Принимает `GET` запросы с параметрами `lat` и `lon`. Возвращает:
- Температуру (°C).
- Скорость ветра (км/ч).
- Вероятность осадков (%).
- Информацию о неблагоприятных условиях.

### `/check_route_weather`
Принимает `POST` запросы с названиями городов начальной и конечной точек маршрута. Возвращает:
- Подробные данные о погоде для начальной и конечной точек.
- Оценку благоприятности условий.

### `/route_weather`
Принимает `POST` запросы с телом JSON, содержащим список координат маршрута. Возвращает:
- Информацию о погоде и её оценку для каждой точки маршрута.

## Известные проблемы
- Ограниченная поддержка локаций (не распознаваемых геолокационной службой).
- Отсутствие некоторых данных о погоде может приводить к `null` значениям.